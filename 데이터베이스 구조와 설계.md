[[번역] 데이터 구조와 설계 - 튜토리얼 정리본](https://medium.com/@khwsc1/%EB%B2%88%EC%97%AD-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B5%AC%EC%A1%B0%EC%99%80-%EC%84%A4%EA%B3%84-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC-b25792a0aa86)

# 데이터베이스 구조와 설계

앞으로 발생할 수 있는 요청을 반영할 수 있도록 데이터베이스를 설계



## 데이터베이스 설계 프로세스

잘 설계된 데이터베이스

- 불필요한 데이터를 제거함으로써 디스크 공간 절약
- 데이터 정확성(accuracy)과 무결성(integrity) 유지
- 유용한 방법으로 데이터에 접근할 방법 제공



효율적이고 유용한 데이터베이스를 설계하기 위한 적절한 프로세스(단계)

1. 요구사항 분석 혹은 데이터베이스의 용도 식별
2. 데이터를 데이블로 구성
3. primary key를 찾아 관계 분석
4. 테이블을 standardize 하기 위해 normalizing



## 요구사항 분석: 데이터베이스의 용도 식별

공공 도서관에 필요한 데이터베이스를 만든다고 가정

사서와 이용객 모두가 데이터에 접근할 필요가 있음



1. (데이터베이스를 만들기 전,) 정보 얻기
   - 데이터베이스를 사용할 사람들을 대상으로 인터뷰
   - 명세서, 시간기록표, 설문결과 등 문서 분석
   - 기존에 존재하는 데이터 시스템 찾아보기 (물리적, 디지털 형식 포함)

2. 데이터베이스에 포함할 존재하는 데이터 모으기

3. 저장하려는 데이터 유형 및 해당 데이터가 설명하는 개체나 사람, 사물, 위치 및 이벤트를 나열

   - 어떤 종류의 데이터를 포함하는지, 데이터의 출처, 데이터가 어떻게 활용되는지 파악하는 단계

   - 나중에 데이터베이스 내의 테이블과 필드의 윤곽을 그릴 데이터 딕셔너리(data dictionary)의 일부분이 됨
   - 정보를 최대한 작지만 유용한 단위로 쪼개야 함
     - 고객(customer) - 이름, 주소, 도시/주/우편번호, 이메일
     - 제품(products) - 이름, 가격, 재고 수량, 주문 수량
     - 주문(orders) - 주문 ID, 영업 담당자, 날짜, 제품, 수량, 가격, 총계

4. 실제 데이터베이스를 계획



## 데이터베이스 구조: 데이터베이스의 구성 요소(building blocks)

데이터베이스를 시각적으로 나열하기



데이터베이스 내부

- 서로 관련된 데이터는 테이블로 묶여 있음

- 각 테이블은 스프레드시트처럼 행(row)과 열(column)로 구성

- 레코드(record)

  - 테이블의 각 행

  - 어떤 것이나 어떤 사람의 정보를 담고 있음
  - '어떤 고객의 정보', 등

- 컬럼(column, field, attribute)

  - 각 레코드에 표시되는 단일 유형의 정보들을 포함
  - '모든 고객의 주소', 등

- 데이터 유형

  - CHAR - 고정된 길이의 문자
  - VARCHAR - 가변적인 길이의 문자
  - TEXT - 많은 양의 문자
  - INT - 음수이거나 양수인 모든 숫자
  - FLOAT, DOUBLE - 소수점을 가질 수 있는 숫자
  - BLOB - 바이너리 데이터



|   이름   |    성     | 나이 | 우편번호 |
| :------: | :-------: | :--: | :------: |
|  Roger   | Williams  |  43  |  34760   |
| Jerrica  | Jorgensen |  32  |  97453   |
| Samantha |  Hopkins  |  56  |  64829   |



데이터 목록을 테이블로 변형

- 각 개체의 종류별로(고객, 제품, 주문, 매출) 테이블을 만듦

- 레코드들이 일관된 데이터를 저장하게 하기 위해 각 컬럼별로 적합한 데이터 유형을 지정

- **개체-관계 다이어그램(Entity-Relationship Diagram)** 데이터베이스

  - 시각적 개요를 그릴 때는 실제 테이블을 포함하지 않음

  - 대신 테이블 하나가 한 개의 박스로 표현됨
  - 각 박스의 제목은 해당 테이블이 어떤 데이터를 다루는지 나타내고, 그 아래에 속성들을 표시

- 테이블별로 어떤 속성이 primary key가 될지 (필요한 경우) 정해야 함
  - primary key(pk): 각 개체의 고유 인식자(unique identifier)
  - pk 값으로 특정 고객을 선택해낼 수 있음
  - pk로 선택된 속성은 **고유하고, 변경되지 않고, 언제나 존재하는(빈 값이나 NULL이 아닌) 상태**여야 함
    - pk로 사용하기 적합: 주문 번호, 유저 이름
    - pk로 사용하기 적합하지 x: 전화번호, 도로 주소
  - composite key(복합 키): 여러 가지 필드를 함께 사용해 pk를 만들어낼 수 있음



실제 데이터베이스 만들기

- 논리적인 데이터 구조와 물리적인 데이터 구조를 데이터 관리 시스템이 지원하는 데이터 정의 언어로 표현해야 함
- 데이트베이스의 크기를 예측해야 데이터베이스가 요구하는 성능 수준과 저장 공간을 확보할 수 있음



## 개체 간 관계 생성

데이터베이스 테이블이 여러 테이블로 변환되고 나면, 테이블 간 관계를 분석할 수 있음



카디널리티(Cardinaliry)

- 두 개의 관련된 테이블 간 상호작용하는 인자의 개수
- 카디널리티를 인식함으로써 데이터를 효율적으로 테이블에 나눌 수 있음



### 일대일 관계(One-to-one relationships)





### 일대다 관계(One-to-many relationships)

### 다대다 관계(Many-to-many relationships)

### 필수(mandatory)?

### 재귀적 관계(recursive relationships)

### 중복 관계(redundant relationships)



## 데이터베이스 정규화(Database normalization)

### 제1 정규형(First normal form)

### 제2 정규형(Second normal form)

### 제3 정규형(Third normal form)



## 다차원 데이터(Multidimensional data)

## 데이터 무결성 규칙

## 인덱스(index)와 뷰(view) 추가

## 확장된 속성

## SQL과 UML

## 데이터베이스 관리 시스템